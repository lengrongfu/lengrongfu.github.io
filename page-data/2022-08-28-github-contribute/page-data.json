{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2022-08-28-github-contribute/",
    "result": {"data":{"site":{"siteMetadata":{"title":"LRF"}},"markdownRemark":{"id":"96b18959-d632-5a8e-a604-a68a40914af6","excerpt":"当我们在上贡献代码时要注意些什么？如下是个人贡献时总结的一些小心得，欢迎轻拍。 代码提交流程 如下以以为例，核心操作步骤如下图：\n 签署贡献协议 目前大多数开源项目都需要签署贡献协议，比如协议，签署使用的就是当前账号的账号和邮箱，所以在项目提交代码的时候需要先进行配置： 一个PR尽量只用一个Commit…","html":"<p>当我们在<code class=\"language-text\">Github</code>上贡献代码时要注意些什么？如下是个人贡献时总结的一些小心得，欢迎轻拍。</p>\n<h2>代码提交流程</h2>\n<p>如下以以<code class=\"language-text\">kubernetes</code>为例，核心操作步骤如下图：\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb057a5f3e56e25a9a90e903c8abf16c/21b4d/git_workflow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACFUlEQVQoz23PSW/TQBiH8Xx9xBUhgVQJcQCJA0WohQZBSBsntbPUSfEyM/bYM+MtHm9jj7O4EQpKhegF6Tm+P/319o7HY9Jw6gwjfBP5SoRHvvtTMz8p3mDsDsfgXEEXCvoyAhdjdGnGKs5Mv7RJZcmu6p2wzMJwzriBuEEEjFs8oP1n+ouX1tksmvwAIzOZ3ODLd+jtjI/TljABSWXLTvS2m23ccEJUw1XnjmYGS1zAQLhJg9cS49ydMyffUZDOJubV2B4uoOIXNhXg73IqM8dXNXA7xwuQAsABLgAVMKihk0GNWEnjGIm68tR7b7rEqhXqdqTXu/KE121GmGoTzQymmK8iCW04Uu76N3p/dH+tMXvdIptPqTAj6UQShQ2kwmo78fhzvWXEi3hGC0mzivKKrDOScLbmMEhnbpoUjRW5XpoyXlFestNNKXf7Ew7zzsQldanr54jWDmtWXqOiZorktSWuVoUf75eEAlo5bINYi1gLSCvkoSeqwotrEG69sGYkIV4YI/xhiJ5fgLMBfHXlvP7u3AJjgTwUyH8B1oj2obeRjeWntyqc6p6i+/duPls41xNz+ovFzLjTfWWGFmZg4OI/+Hg82rR68/nu/dfl+cD6ptEFzIHr5WyQ4Y+R1wd+Yvk1CiVkT9mkEfIR15tDVOzjcs/FA6+6vD6Ipmkrty7wVnhlvcnrQy66vH4qE92u+/0Hqe0/QYW+29YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"git_workflow.png\"\n        title=\"git_workflow.png\"\n        src=\"/static/fb057a5f3e56e25a9a90e903c8abf16c/f058b/git_workflow.png\"\n        srcset=\"/static/fb057a5f3e56e25a9a90e903c8abf16c/c26ae/git_workflow.png 158w,\n/static/fb057a5f3e56e25a9a90e903c8abf16c/6bdcf/git_workflow.png 315w,\n/static/fb057a5f3e56e25a9a90e903c8abf16c/f058b/git_workflow.png 630w,\n/static/fb057a5f3e56e25a9a90e903c8abf16c/40601/git_workflow.png 945w,\n/static/fb057a5f3e56e25a9a90e903c8abf16c/78612/git_workflow.png 1260w,\n/static/fb057a5f3e56e25a9a90e903c8abf16c/21b4d/git_workflow.png 1280w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>签署贡献协议</h2>\n<p>目前大多数开源项目都需要签署贡献协议，比如<code class=\"language-text\">DCO</code>协议，签署使用的就是当前<code class=\"language-text\">github</code>账号的账号和邮箱，所以在项目提交代码的时候需要先进行配置：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> config --local user.name lengrongfu\n$ <span class=\"token function\">git</span> config --local user.email <span class=\"token number\">1275177125</span>@qq.com</code></pre></div>\n<h2>一个PR尽量只用一个Commit</h2>\n<p>单发生多次代码修改的时候，在<code class=\"language-text\">commit</code>的时候使用最开始的<code class=\"language-text\">commit</code>，使用命令如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> commit -s --amend --no-edit\n<span class=\"token comment\"># -s 后会在PR中加入签名信息：Signed-off-by: lengrongfu 1275177125@qq.com</span>\n<span class=\"token comment\"># --amend 追加commit，使用同一个commit ID</span>\n<span class=\"token comment\"># --no-edit 不进行任何更改，如果要修改commit 信息就不要使用这个标签</span></code></pre></div>\n<h2>Go项目开发要注意什么</h2>\n<p><code class=\"language-text\">go</code>开源项目目前大多都是使用的<code class=\"language-text\">golangci-lint</code>、<code class=\"language-text\">goimports</code>来做代码格式等相关静态检查，在提交<code class=\"language-text\">PR</code>的时候都会检查是否符合这些工具的规范。</p>\n<p>在<code class=\"language-text\">golangd</code>中配置上述工具，在文件产生变更的时候自动执行上述命令，进行格式校验，下面以<code class=\"language-text\">Mac Goland</code>为例讲解配置 ：</p>\n<ul>\n<li>通过<code class=\"language-text\">command+,</code>快捷键打开系统配置，或者点击左上角<code class=\"language-text\">preferences</code>菜单。</li>\n<li>搜索<code class=\"language-text\">File Watchers</code></li>\n<li>点击添加按钮，选择对应工具即可：</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4213b3f80b9ac267ad85f7cfc5ba3c75/e72de/file-watcher.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABC0lEQVQoz6WRSU7DQBBFfRvEAVAS2z3b7SGOaTwowwYUEBskDoVgw4YjPhQLWMdh8fVVpdKrr6rI+pK6DZy8CR1tN0y1dDmx1LMVSWMxziGURGo9yWaOrKxQNiMWimQOMDEFZf9As31kPR4Jh2fK7h5bNFhfoDM/S9Fy/UTy8kX5+sni+MHV9o3r/Ts32Y5UpiTakShztqLca3b7gep2ROc1pmiIdc4yVSTqghvmzjL2YXrIJgRCP+CrmlgqYmlmpZsS6rJl0++omg3CZCiXYzL/t/E09OtnAUUdqMcDbbijbNqpuUwlq9N3f2CzgNbnDNuR0I/4eo0wbgJcDEylQBs9gVZCskjEvxJ+A5FoYtJYTlYrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"file-watcher.png\"\n        title=\"file-watcher.png\"\n        src=\"/static/4213b3f80b9ac267ad85f7cfc5ba3c75/f058b/file-watcher.png\"\n        srcset=\"/static/4213b3f80b9ac267ad85f7cfc5ba3c75/c26ae/file-watcher.png 158w,\n/static/4213b3f80b9ac267ad85f7cfc5ba3c75/6bdcf/file-watcher.png 315w,\n/static/4213b3f80b9ac267ad85f7cfc5ba3c75/f058b/file-watcher.png 630w,\n/static/4213b3f80b9ac267ad85f7cfc5ba3c75/40601/file-watcher.png 945w,\n/static/4213b3f80b9ac267ad85f7cfc5ba3c75/e72de/file-watcher.png 1198w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>添加后可以选择所有项目生效或者当前项目生效。</li>\n</ul>\n<h2>.gitignore是否可以不修改</h2>\n<p>很多编辑器都有对应的隐藏文件<code class=\"language-text\">.vscode</code>、<code class=\"language-text\">.idea</code>等，我们通过编辑器首次打开项目后都会生成这个文件，如果我们不想让这个文件提交，就只能往<code class=\"language-text\">.gitignore</code>里面加入忽略文件的信息。</p>\n<p>但是从代码仓库管理员的角度看，如果每个人都把特定于个人的配置加入到<code class=\"language-text\">.gitignore</code>中，那整体维护起来将会很难。</p>\n<p>有一个更好的解决办法：为您的所有存储库创建一个个人的全局<code class=\"language-text\">.gitignore</code>文件。</p>\n<ul>\n<li>选择一个地方存储全局<code class=\"language-text\">.gitignore</code>的文件，大多数人选择主目录</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">touch</span> ~/.gitignore</code></pre></div>\n<ul>\n<li>在里面加入自己需要忽略的文件或者文件夹</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">vim</span> ~/.gitignore\n.DS_Store\n.idea\n.vscode</code></pre></div>\n<ul>\n<li>最后，配置git使用我们新创建的~/.gitignore文件</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> config --global core.excludesfile ~/.gitignore</code></pre></div>\n<ul>\n<li>如果您是 Windows 用户，则需要以不同方式格式化路径</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> config --global core.excludesfile %USERPROFILE%<span class=\"token punctuation\">\\</span>.gitignore</code></pre></div>\n<h2>引用</h2>\n<ul>\n<li><a href=\"https://github.com/kubernetes/community/blob/master/contributors/guide/github-workflow.md\">github-workflow.md</a></li>\n</ul>","frontmatter":{"title":"Github Contribute 注意事项","date":"August 28, 2022","description":null}},"previous":{"fields":{"slug":"/2022-08-05-distribution-auth/"},"frontmatter":{"title":"Distribution Auth Type"}},"next":{"fields":{"slug":"/2022-08-31-remote-golang-developer-env/"},"frontmatter":{"title":"Vscode Remote Golang开发环境打造"}}},"pageContext":{"id":"96b18959-d632-5a8e-a604-a68a40914af6","previousPostId":"dc932fdd-1014-5e3e-9ed3-b1ee13bdfd90","nextPostId":"c937dc70-8f22-52b1-8635-3f254ea1056c"}},
    "staticQueryHashes": ["2841359383","3257411868"]}