{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2018-10-17-mysql-install/",
    "result": {"data":{"site":{"siteMetadata":{"title":"LRF"}},"markdownRemark":{"id":"361c6315-592d-55bd-bb6d-a065e0710779","excerpt":"mysql centos7 安装指南(Yum) 参考文档：https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/ 1、添加　mysql yum存储库 下载平台发行包： mysql5.7版本 安装下载的发行包： 2、选择版本 默认情况下选择最新的mysql…","html":"<h1>mysql centos7 安装指南(Yum)</h1>\n<ul>\n<li>参考文档：<a href=\"https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/\">https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/</a></li>\n</ul>\n<h3>1、添加　mysql yum存储库</h3>\n<ul>\n<li>下载平台发行包：<code class=\"language-text\">wget -c https://repo.mysql.com//mysql57-community-release-el6-11.noarch.rpm</code> mysql5.7版本</li>\n<li>安装下载的发行包：<code class=\"language-text\">$ sudo rpm -Uvh mysql57-community-release-el6-n.noarch.rpm</code></li>\n</ul>\n<h3>2、选择版本</h3>\n<ul>\n<li>默认情况下选择最新的mysql版本进行安装，如果这是能接收的那就跳到安装步骤。</li>\n<li>可以查看启用或禁用的版本：<code class=\"language-text\">shell > yum repolist all | grep mysql</code>，执行结果，默认最新版启用的。</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Repository epel is listed <span class=\"token function\">more</span> than once <span class=\"token keyword\">in</span> the configuration\n<span class=\"token operator\">!</span>mysql-connectors-community/x86_64 MySQL Connectors Community       启用:     <span class=\"token number\">36</span>\nmysql-connectors-community-source  MySQL Connectors Community - Sou 禁用\n<span class=\"token operator\">!</span>mysql-tools-community/x86_64      MySQL Tools Community            启用:     <span class=\"token number\">47</span>\nmysql-tools-community-source       MySQL Tools Community - Source   禁用\nmysql-tools-preview/x86_64         MySQL Tools Preview              禁用\nmysql-tools-preview-source         MySQL Tools Preview - Source     禁用\nmysql55-community/x86_64           MySQL <span class=\"token number\">5.5</span> Community Server       禁用\nmysql55-community-source           MySQL <span class=\"token number\">5.5</span> Community Server - Sou 禁用\nmysql56-community/x86_64           MySQL <span class=\"token number\">5.6</span> Community Server       禁用\nmysql56-community-source           MySQL <span class=\"token number\">5.6</span> Community Server - Sou 禁用\n<span class=\"token operator\">!</span>mysql57-community/x86_64          MySQL <span class=\"token number\">5.7</span> Community Server       启用:    <span class=\"token number\">187</span>\nmysql57-community-source           MySQL <span class=\"token number\">5.7</span> Community Server - Sou 禁用</code></pre></div>\n<ul>\n<li>启用自定义版本并禁用最新版：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">shell<span class=\"token operator\">></span> <span class=\"token function\">sudo</span> yum-config-manager --disable mysql57-community\nshell<span class=\"token operator\">></span> <span class=\"token function\">sudo</span> yum-config-manager --enable mysql56-community</code></pre></div>\n<h3>3、安装 <code class=\"language-text\">MySQL</code></h3>\n<ul>\n<li>以下是安装命令：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">  $ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> mysql-community-server</code></pre></div>\n<h3>4、启动MySQL服务器</h3>\n<p>-　使用以下命令启动MySQL：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"> $ <span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysqld start</code></pre></div>\n<p>-　如果系统是<code class=\"language-text\">Centos7</code> 首选安装命令是：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">sudo</span> systemctl start mysqld.service</code></pre></div>\n<ul>\n<li>以下命令是检查MySQL服务器的状态：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysqld status</code></pre></div>\n<ul>\n<li>对于<code class=\"language-text\">CentOs7</code>平台，首先以下命令：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">sudo</span> systemctl status mysqld.service</code></pre></div>\n<p>MySQL服务初始化(仅适用5.7)</p>\n<h3>5、保护MySQL（仅使用于MySQL5.6）</h3>\n<ul>\n<li>初始化设置MySQL密码，执行以下命令：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ mysqladmin -u root password</code></pre></div>\n<h3>６、安装其他的MySQL工具</h3>\n<ul>\n<li>使用yum来安装和管理MySQL的各个组件，使用以下命令从mysql yum存储库中列出所有mysql：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ yum --disablerepo<span class=\"token operator\">=</span><span class=\"token punctuation\">\\</span>* --enablerepo<span class=\"token operator\">=</span><span class=\"token string\">'mysql*-community*'</span> list available</code></pre></div>\n<ul>\n<li>使用以下命令安装选择软件包：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> package-name\n//安装mysql workbench\neg: $ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> mysql-workbench-community</code></pre></div>\n<h3>7、使用yum升级MySQL</h3>\n<p><em>作为一般规则，要从一个版本系列升级到另一个版本，请转到下一个系列，而不是跳过一系列。例如，如果您目前正在运行MySQL 5.5并希望升级到5.7，请先升级到MySQL 5.6，然后升级到5.7。</em></p>\n<ul>\n<li>使用以下命令升级MySQL：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">sudo</span> yum update mysql-server</code></pre></div>\n<ul>\n<li>在Yum更新后，MySQL服务器会重新启动。重启之后运行<code class=\"language-text\">mysql_upgrade</code>命令检查数据和软件升级带来的不兼容问题。</li>\n</ul>\n<h3>8、创建用户和授权、修改密码</h3>\n<ul>\n<li>创建用户命令：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#foo表示你要建立的用户名，后面的123表示密码,\n#localhost限制在固定地址localhost登陆,如果没有限制则用%，此处也可以指个ｉｐ登录,此处密码也可以为空，如果为空则不需要密码就可以登录\nCREATE USER &#39;foo&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123&#39;;\nCREATE USER &#39;foo&#39;@&#39;%&#39;; #不需要密码，任何地址可登录\n#删除用户\nDROP USER foo;</code></pre></div>\n<ul>\n<li>授权命令：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#说明: privileges - 用户的操作权限,如SELECT , INSERT , UPDATE 等。如果要授予所的权限则使用 ALL;\n#databasename - 数据库名,tablename-表名,如果要授予该用户对所有数据库和表的相应操作权限则可用*表示, 如*.*\nGRANT privileges ON databasename.tablename TO &#39;username&#39;@&#39;host&#39;\neg:\nGRANT INSERT,DELETE,UPDATE,SELECT ON test.user TO &#39;foo&#39;@&#39;localhost&#39;;\nflush privileges;\nGRANT all ON user.* TO &#39;foo&#39;@&#39;localhost&#39; #把user表的所有权限赋给foo这个用户</code></pre></div>\n<ul>\n<li>设置与更改用户密码：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">SET PASSWORD FOR &#39;username&#39;@&#39;host&#39; = PASSWORD(&#39;newpassword&#39;)\n\n#如果是当前登陆用户\nSET PASSWORD = PASSWORD(&quot;newpassword&quot;);\n\n#例如：\nSET PASSWORD FOR &#39;foo&#39;@&#39;%&#39; = PASSWORD(&quot;123456&quot;);\n\nupdate mysql.user set password=password(&#39;新密码&#39;) where User=&quot;phplamp&quot; and Host=&quot;localhost&quot;;</code></pre></div>","frontmatter":{"title":"mysql-install","date":"October 17, 2018","description":null}},"previous":{"fields":{"slug":"/2018-10-17-linux-crond/"},"frontmatter":{"title":"linux-crond"}},"next":{"fields":{"slug":"/2018-10-18-pinpoint-add-hbase-kerberos-auth/"},"frontmatter":{"title":"pinpoint 添加 hbase kerberos认证"}}},"pageContext":{"id":"361c6315-592d-55bd-bb6d-a065e0710779","previousPostId":"975bd264-0d13-588d-86b1-ca0ac6a3e2bf","nextPostId":"d3a24941-4d5d-56ac-89bc-b3af21572d4d"}},
    "staticQueryHashes": ["2841359383","3257411868"]}